{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, HostListener } from '@angular/core';\nlet UnsplashComponent = class UnsplashComponent {\n  constructor(unsplashService) {\n    this.unsplashService = unsplashService;\n    this.photos = [];\n    this.page = 1;\n    this.loading = true;\n  }\n  ngOnInit() {\n    this.loadMore();\n    this.loading = false;\n  }\n  onWindowScroll() {\n    if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {\n      this.loadMore();\n    }\n  }\n  loadMore() {\n    this.unsplashService.getPhotos(this.page).subscribe(photos => {\n      this.photos = this.photos.concat(photos);\n      this.page++;\n    });\n  }\n  cargar() {\n    this.loading = true;\n    this.page += 1;\n    this.unsplashService.getPhotos(this.page++).subscribe(_photos => {\n      this.photos = this.photos.concat(_photos);\n      this.loading = false;\n    });\n  }\n};\n__decorate([HostListener('window:scroll', ['$event'])], UnsplashComponent.prototype, \"onWindowScroll\", null);\nUnsplashComponent = __decorate([Component({\n  selector: 'app-unsplash',\n  // template: \n  //`<div *ngFor=\"let photo of photos\"><img [src]=\"photo.urls.small\"/></div>`,\n  templateUrl: './unsplash.component.html',\n  styleUrls: ['./unsplash.component.scss'],\n  styles: []\n})], UnsplashComponent);\nexport { UnsplashComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,EAAEC,YAAY,QAAgB,eAAe;AAexD,IAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAO5BC,YAAoBC,eAAgC;IAAhC,oBAAe,GAAfA,eAAe;IANnC,WAAM,GAAQ,EAAE;IAChB,SAAI,GAAG,CAAC;IACR,YAAO,GAAG,IAAI;EAIyC;EAIvDC,QAAQ;IACN,IAAI,CAACC,QAAQ,EAAE;IACf,IAAI,CAACC,OAAO,GAAG,KAAK;EACtB;EAGAC,cAAc;IACZ,IAAKC,MAAM,CAACC,WAAW,GAAGD,MAAM,CAACE,OAAO,IAAKC,QAAQ,CAACC,IAAI,CAACC,YAAY,EAAE;MACvE,IAAI,CAACR,QAAQ,EAAE;;EAEnB;EAEAA,QAAQ;IACN,IAAI,CAACF,eAAe,CAACW,SAAS,CAAC,IAAI,CAACC,IAAI,CAAC,CAACC,SAAS,CAACC,MAAM,IAAG;MAC3D,IAAI,CAACA,MAAM,GAAG,IAAI,CAACA,MAAM,CAACC,MAAM,CAACD,MAAM,CAAC;MACxC,IAAI,CAACF,IAAI,EAAE;IACb,CAAC,CAAC;EACJ;EAEAI,MAAM;IACJ,IAAI,CAACb,OAAO,GAAG,IAAI;IACnB,IAAI,CAACS,IAAI,IAAG,CAAC;IACb,IAAI,CAACZ,eAAe,CAACW,SAAS,CAAC,IAAI,CAACC,IAAI,EAAE,CAAC,CAACC,SAAS,CAACI,OAAO,IAAG;MAC9D,IAAI,CAACH,MAAM,GAAG,IAAI,CAACA,MAAM,CAACC,MAAM,CAACE,OAAO,CAAC;MAEzC,IAAI,CAACd,OAAO,GAAG,KAAK;IACtB,CAAC,CAAC;EACJ;CAID;AAzBCe,YADCrB,YAAY,CAAC,eAAe,EAAE,CAAC,QAAQ,CAAC,CAAC,uDAKzC;AArBUC,iBAAiB,eAR7BF,SAAS,CAAC;EACTuB,QAAQ,EAAE,cAAc;EACxB;EACA;EACAC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,2BAA2B,CAAC;EACxCC,MAAM,EAAC;CACR,CAAC,GACWxB,iBAAiB,CA0C7B;SA1CYA,iBAAiB","names":["Component","HostListener","UnsplashComponent","constructor","unsplashService","ngOnInit","loadMore","loading","onWindowScroll","window","innerHeight","scrollY","document","body","offsetHeight","getPhotos","page","subscribe","photos","concat","cargar","_photos","__decorate","selector","templateUrl","styleUrls","styles"],"sourceRoot":"","sources":["C:\\Users\\Oriol\\Desktop\\masonryProject\\M_PROJECT\\src\\app\\unsplash\\unsplash.component.ts"],"sourcesContent":["import { Component, HostListener, OnInit } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { UnsplashService } from '../unsplash.service';\nimport { Renderer2, ElementRef } from '@angular/core';\n\n\n\n@Component({\n  selector: 'app-unsplash',\n  // template: \n  //`<div *ngFor=\"let photo of photos\"><img [src]=\"photo.urls.small\"/></div>`,\n  templateUrl: './unsplash.component.html',\n  styleUrls: ['./unsplash.component.scss'],\n  styles:[]\n})\nexport class UnsplashComponent implements OnInit {\n  photos: any = [];\n  page = 1;\n  loading = true;\n  photo: any;\n\n\n  constructor(private unsplashService: UnsplashService) {}\n\n\n\n  ngOnInit() {\n    this.loadMore();\n    this.loading = false;\n  }\n\n  @HostListener('window:scroll', ['$event'])\n  onWindowScroll() {\n    if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {\n      this.loadMore();\n    }\n  }\n\n  loadMore() {\n    this.unsplashService.getPhotos(this.page).subscribe(photos => {\n      this.photos = this.photos.concat(photos);\n      this.page++;\n    });\n  }\n\n  cargar() {\n    this.loading = true;\n    this.page +=1;\n    this.unsplashService.getPhotos(this.page++).subscribe(_photos => {\n      this.photos = this.photos.concat(_photos);\n      \n      this.loading = false;\n    });\n  }\n\n    \n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}